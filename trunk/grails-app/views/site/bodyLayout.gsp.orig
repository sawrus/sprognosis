<%@ page import="com.sp.impl.Command; com.sp.impl.Prognosis; com.sp.site.PostCategory" contentType="text/html;charset=UTF-8" %>
<!DOCTYPE html>
<html>
<head>
    <title><g:layoutTitle default="sPrognosis"/></title>
    <link rel="stylesheet" href="${resource(dir: 'css', file: 'my_style.css')}"/>
    <g:layoutHead/>
    <!----------------------------------------------->
</head>

<body>
<div id="topPanel">
    <div id="linkPanel">
        <ul class="link">
            <li class="link"><g:link controller="site" action="index">Home</g:link> :</li>
            <li class="link"><g:link controller="site" action="prognosis">Prognosis</g:link> :</li>
            <li class="link"><g:link controller="site" action="profile">Profile</g:link> :</li>
            <li class="link"><g:link controller="site" action="about">About</g:link> :</li>
            <li class="link"><g:link controller="site" action="cooperation">Cooperation</g:link> :</li>
            <g:ifAnyGranted role="ROLE_ADMIN">
                <li class="link"><g:link controller="site" action="admin">Admin</g:link> :</li>
            </g:ifAnyGranted>
            <g:ifAnyGranted role="ROLE_PROGNOSTICATOR">
                <li><g:link class="list" action="predicted" controller="prognosis">Predicted</g:link></li>
            </g:ifAnyGranted>
            <g:isNotLoggedIn>
                <li class="link"><g:link controller="login">Login</g:link> :</li>
                <li class="link"><g:link controller="site" action="register">Register</g:link> :</li>
            </g:isNotLoggedIn>
            <g:isLoggedIn>
                <g:link controller="logout" action="index">Logout :</g:link>
            </g:isLoggedIn>
        </ul>
    </div>

    <div id="categoryPanel">Category Panel (${PostCategory.count()}):
        <ul class="postListUl">
            <g:each in="${PostCategory.list()}" var="postCategory" status="postCategoryStatus">
                <li class="postListLi">
                    ${postCategory.name}
                </li>
            </g:each>
        </ul>
    </div>

    <div id="searchPanel">
        <g:formRemote name="searchFriendsForm" url="[controller: 'prognosis', action: 'search']" update="resultDiv"
                      onSuccess="showResult(e)" onFailure="showError()">
            <table>
                <tr style="height: 30px; vertical-align: top;">
                    <td><richui:autoComplete class="search" name="category" action="${createLinkTo('dir': 'category/searchAJAX')}"/></td>
                    <td><input type="submit" value="Search"/></td>
                </tr>
            </table>
        </g:formRemote>
    </div>
</div>
<!----------------------------------------------->
<g:layoutBody/>
<div id="downPanel">Down panel
    <p class="downPanelP">Current Date: ${new Date()}</p>

    <p class="downPanelP">Count:</p>
    <ul>
        <li style="font-size: 10pt">${Prognosis.count()} sports predictions</li>
        <li style="font-size: 10pt">${Command.count()} sport commands</li>
        <li style="font-size: 10pt">${com.sp.impl.Category.count()} sport categories</li>
    </ul>
</div>
</body>
</html>